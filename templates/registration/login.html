<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>

<h2>Login</h2>

{% if form.errors %}
    <p style="color: red;">Seu usuário ou senha estão incorretos. Tente novamente.</p>
{% endif %}

{% if next %}
    {% if user.is_authenticated %}
    <p>Sua conta não tem acesso a esta página. Para prosseguir,
    faça login com uma conta que tenha acesso.</p>
    {% else %}
    <p>Por favor, faça login para ver esta página.</p>
    {% endif %}
{% endif %}

<form method="post" action="{% url 'login' %}">
    {% csrf_token %} {# Essencial para segurança no Django #}

    {# Renderiza os campos do formulário (usuário, senha) #}
    {{ form.as_p }}

    <button type="submit">Entrar</button>
    <input type="hidden" name="next" value="{{ next }}">
</form>

{# Link para reset de senha (opcional, requer configuração adicional) #}
{# <p><a href="{% url 'password_reset' %}">Esqueceu a senha?</a></p> #}

</body>
</html>